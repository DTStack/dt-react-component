"use strict";(self.webpackChunkdt_react_component=self.webpackChunkdt_react_component||[]).push([[1268],{77625:function($,m,n){n.r(m);var y=n(90554),O=n.n(y),B=n(28870),h=n(48651),j=n.n(h),p=n(86516),T=n.n(p),P=n(83345),K=n.n(P),A=n(50425),U=n(79685),F=n(19576),W=n(52368),r=n(63342),S=function(t){var d=t.rowValues.input,c=t.rowKey,o=t.onChange;return(0,r.jsx)(A.default,{value:d,onChange:function(v){return o==null?void 0:o(c,{input:v.target.value})}})};m.default=function(){var M=(0,U.useState)(W.Bq),t=T()(M,2),d=t[0],c=t[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.Z,{component:function(u){return(0,r.jsx)(S,j()({},u))},value:d,onChange:function(u){return c(u)},initValues:W.jv}),(0,r.jsx)(B.default,{onClick:function(){return console.log(d)},children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},1809:function($,m,n){n.r(m);var y=n(48651),O=n.n(y),B=n(90554),h=n.n(B),j=n(28870),p=n(99764),T=n.n(p),P=n(9923),K=n(86516),A=n.n(K),U=n(83345),F=n.n(U),W=n(50425),r=n(79685),S=n(19576),M=n(52368),t=n(63342),d=function(o){var u=o.rowValues.input,v=o.rowKey,C=o.disabled,x=o.onChange;return(0,t.jsx)(W.default,{value:u,onChange:function(g){return x==null?void 0:x(v,{input:g.target.value})},disabled:C})};m.default=function(){var c=P.Z.useForm(),o=A()(c,1),u=o[0],v=(0,r.useState)(!1),C=A()(v,2),x=C[0],V=C[1];return(0,r.useEffect)(function(){u.setFieldsValue({condition:M.Bq})},[]),(0,t.jsxs)(P.Z,{form:u,children:[(0,t.jsxs)(j.default,{style:{marginBottom:16},onClick:function(){return V(!x)},children:[x?"\u7F16\u8F91":"\u67E5\u770B","\u72B6\u6001"]}),(0,t.jsx)(P.Z.Item,{name:"condition",children:(0,t.jsx)(S.Z,{component:function(s){return(0,t.jsx)(d,O()({},s))},disabled:x,initValues:M.jv})})]})}},16358:function($,m,n){n.r(m);var y=n(48651),O=n.n(y),B=n(88289),h=n.n(B),j=n(4125),p=n(73735),T=n.n(p),P=n(82549),K=n(86516),A=n.n(K),U=n(83345),F=n.n(U),W=n(50425),r=n(79685),S=n(19576),M=n(52368),t=n(63342),d=function(o){var u=o.rowValues.input,v=o.rowKey,C=o.onChange;return(0,t.jsx)(W.default,{value:u,onChange:function(V){return C==null?void 0:C(v,{input:V.target.value})}})};m.default=function(){var c=(0,r.useState)(M.Bq),o=A()(c,2),u=o[0],v=o[1],C=(0,r.useState)(2),x=A()(C,2),V=x[0],g=x[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j.default,{style:{marginBottom:16},children:[(0,t.jsx)("span",{children:"\u6700\u5927\u5B50\u8282\u70B9\u4E2A\u6570:"}),(0,t.jsx)(P.Z,{value:V,min:0,precision:0,onChange:function(I){return g(I!=null?I:0)}})]}),(0,t.jsx)(S.Z,{component:function(I){return(0,t.jsx)(d,O()({},I))},value:u,maxSize:V,onChange:function(I){return v(I)},initValues:M.jv})]})}},51801:function($,m,n){n.r(m);var y=n(48651),O=n.n(y),B=n(67822),h=n.n(B),j=n(39153),p=n(86516),T=n.n(p),P=n(83345),K=n.n(P),A=n(50425),U=n(79685),F=n(19576),W=n(52368),r=n(63342),S=function(t){var d=t.rowValues.input,c=t.rowKey,o=t.onChange;return(0,r.jsx)(A.default,{value:d,onChange:function(v){return o==null?void 0:o(c,{input:v.target.value})}})};m.default=function(){var M=(0,U.useState)(W.AD),t=T()(M,2),d=t[0],c=t[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.default,{message:"\u53EF\u4EE5\u901A\u8FC7\u64CD\u4F5C\u6309\u94AE\u589E\u52A0\u5220\u9664\u6570\u636E\uFF0C\u5207\u6362\u4E14\u6216\u8282\u70B9\u5185\u5BB9",style:{marginBottom:16}}),(0,r.jsx)(F.Z,{component:function(u){return(0,r.jsx)(S,O()({},u))},value:d,onChange:function(u){return c(u)},initValues:W.jv})]})}},95789:function($,m,n){n.r(m);var y=n(22786),O=n.n(y),B=n(46299),h=n.n(B),j=n(48651),p=n.n(j),T=n(90554),P=n.n(T),K=n(28870),A=n(86516),U=n.n(A),F=n(99764),W=n.n(F),r=n(9923),S=n(83345),M=n.n(S),t=n(50425),d=n(70300),c=n.n(d),o=n(79685),u=n(19576),v=n(52368),C=n(63342),x=function(g){var s=g.name;return(0,C.jsx)(r.Z.Item,{name:["condition"].concat(c()(s),["input"]),children:(0,C.jsx)(t.default,{})})};m.default=function(){var V=r.Z.useForm(),g=U()(V,1),s=g[0];return(0,C.jsxs)(r.Z,{form:s,children:[(0,C.jsx)(K.default,{onClick:function(){return s.setFieldsValue({condition:v.Bq})},style:{marginBottom:16},children:"\u6DFB\u52A0\u6570\u636E"}),(0,C.jsx)(r.Z.Item,{name:"condition",children:(0,C.jsx)(u.Z,{component:function(Z){return(0,C.jsx)(x,p()({},Z))},notEmpty:{data:!1},initValues:v.jv})}),(0,C.jsx)(K.default,{onClick:h()(O()().mark(function I(){return O()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.t0=console,R.next=3,s.validateFields();case 3:return R.t1=R.sent,R.abrupt("return",R.t0.log.call(R.t0,R.t1));case 5:case"end":return R.stop()}},I)})),children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},94034:function($,m,n){n.r(m);var y=n(48651),O=n.n(y),B=n(67822),h=n.n(B),j=n(39153),p=n(86516),T=n.n(p),P=n(83345),K=n.n(P),A=n(50425),U=n(79685),F=n(19576),W=n(52368),r=n(63342),S=function(t){var d=t.rowValues.input,c=t.disabled,o=t.rowKey,u=t.onChange;return(0,r.jsx)(A.default,{value:d,disabled:c,onChange:function(C){return u==null?void 0:u(o,{input:C.target.value})}})};m.default=function(){var M=(0,U.useState)(W.jN),t=T()(M,2),d=t[0],c=t[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.default,{message:"\u9002\u7528\u4E8E\u90E8\u5206\u6570\u636E\u7981\u7528\u4E14\u53EF\u4EE5\u7F16\u8F91\u5176\u4ED6\u6570\u636E\u3002\u5E38\u89C1\u4E1A\u52A1\u60C5\u666F\uFF1A\u4E0A\u4E00\u6B21\u4FDD\u5B58\u7684\u6570\u636E\u4E0D\u53EF\u4FEE\u6539\uFF0C\u4F46\u9700\u8981\u5728\u5F53\u524D\u57FA\u7840\u4E0A\u7EE7\u7EED\u65B0\u589E\u6570\u636E\u3002",style:{marginBottom:16}}),(0,r.jsx)(F.Z,{component:function(u){return(0,r.jsx)(S,O()({},u))},value:d,onChange:function(u){return c(u)},initValues:W.jv})]})}},52368:function($,m,n){n.d(m,{AD:function(){return P},Bq:function(){return p},jN:function(){return T},jv:function(){return j}});var y=n(48651),O=n.n(y),B=n(50576),h=n.n(B),j={input:""},p={key:h()(),level:0,rowValues:O()({},j)},T={key:h()(),level:0,type:1,children:[{rowValues:{input:""},disabled:!0,key:h()(),level:1},{key:h()(),type:1,level:2,disabled:!0,children:[{rowValues:{input:""},key:h()(),level:2},{key:h()(),rowValues:{input:""},level:2}]}]},P={key:h()(),level:1,type:1,children:[{rowValues:{input:""},key:h()(),level:1},{key:h()(),type:2,level:2,children:[{key:h()(),level:2,rowValues:{input:""}},{key:h()(),rowValues:{input:""},level:2}]}]}},19576:function($,m,n){n.d(m,{d:function(){return v},Z:function(){return V}});var y=n(48651),O=n.n(y),B=n(71089),h=n(75020),j=n(79685),p=n(54834),T=n(50576),P=n.n(T),K=n(63062),A=n(70300),U=n.n(A),F=n(5677),W=n.n(F),r=n(71074),S=n(68591),M=n.n(S),t=n(63342),d=32,c=16,o=new WeakMap,u=function(s){var I,Z=s.value,R=s.disabled,an=s.maxLevel,J=s.maxSize,k=s.className,_n=s.style,en=s.component,q=s.onAddCondition,dn=s.onDeleteCondition,tn=s.onChangeCondition,nn=s.onChangeRowValues,on=(0,K.Z)("FilterRules"),b=(I={},W()(I,v.AND,on.and),W()(I,v.OR,on.or),I),H=function(_){return(_==null?void 0:_.type)&&[v.AND,v.OR].includes(_==null?void 0:_.type)},un=function Q(_,G){var N=G||!!_.disabled;if(!(_!=null&&_.children))return o.set(_,{height:d+c,lineHeight:d});_.children.map(function(Y){return Q(Y,N)});var f=!_.children.some(H),e=H(_.children[0]);if(N){var z=_.children.reduce(function(Y,w){return Y+o.get(w).height},0),X,rn;if(f)X=z-d-c;else{var mn,En=_.children[0],cn=_.children[_.children.length-1],Dn=o.get(En).height-ln(_,!0),hn=H(cn),vn=ln(_,!1),Mn=o.get(cn).height-c-vn;rn=hn?vn:d/2,X=Dn+((mn=_.children)===null||mn===void 0?void 0:mn.slice(1,-1).reduce(function(Y,w){return Y+o.get(w).height},0))+Mn}o.set(_,{bottom:rn,lineHeight:X,height:z})}else{var a=_.children.reduce(function(Y,w){return Y+o.get(w).height},d),l;if(f){var E=o.get(_.children[0]).height-c,D=d;l=a-E/2-D/2}else{var L,i=e?o.get(_.children[0]).lineHeight/2+d/2:d/2+c;l=i+((L=_.children)===null||L===void 0?void 0:L.slice(1).reduce(function(Y,w){return Y+o.get(w).height},d/2))}o.set(_,{height:a,lineHeight:l})}return _},ln=function Q(_,G){var N,f,e,a=G?_==null||(N=_.children)===null||N===void 0?void 0:N[0]:_==null||(f=_.children)===null||f===void 0?void 0:f[(_==null||(e=_.children)===null||e===void 0?void 0:e.length)-1];if(!a)return d/2;var l=H(a);if(l){var E;return((E=o.get(a))===null||E===void 0?void 0:E.lineHeight)/2+Q(a,G)}return d/2},sn=function Q(_,G,N){var f,e=N||!!_.disabled;if(_!=null&&(f=_.children)!==null&&f!==void 0&&f.length){var a,l=function(z){var X=U()(G);return X.push.apply(X,["children",z]),X},E=o.get(_),D=E.lineHeight,L=E.bottom;return(0,t.jsxs)("div",{className:M()("dtc-ruleController__condition",{"dtc-ruleController__condition--active":_.children.length>1}),children:[(0,t.jsxs)("div",{className:M()("condition__box",{disabled:e}),style:{height:D,bottom:L!=null?L:c},children:[(0,t.jsx)("span",{className:M()("condition__box--name",{disabled:e}),onClick:function(){return!e&&tn(_.key,_==null?void 0:_.type)},children:b[_==null?void 0:_.type]}),_.children.length>1&&(0,t.jsx)("span",{className:M()("condition__box--line",{disabled:N})})]}),_.children.map(function(i,z){return Q(i,l(z),e)}),!e&&(0,t.jsxs)("div",{className:"condition__add",children:[(0,t.jsx)("span",{className:"condition__add--line"}),(0,t.jsx)(r.PlusCircleOutlined,{className:M()("condition__add--icon",(_==null||(a=_.children)===null||a===void 0?void 0:a.length)>=J&&"condition__add--icon--disabled"),onClick:function(){_!=null&&_.children&&_.children.length>=J||q({key:_.key,isOut:!0})},"data-testid":"icon-plus"})]})]},_.key)}return(0,t.jsxs)("div",{className:"dtc-ruleController__item",children:[(Z==null?void 0:Z.children)&&(0,t.jsx)("span",{className:M()("dtc-ruleController__item--line",{disabled:N})}),(0,t.jsx)("div",{className:"dtc-ruleController__item--component",children:en({rowKey:_.key,disabled:e,name:[].concat(U()(G),["rowValues"]),rowValues:_.rowValues,onChange:nn})}),!e&&(0,t.jsxs)("div",{className:"dtc-ruleController__item--operation",children:[_.level===an?null:(0,t.jsx)(r.PlusCircleOutlined,{className:"icon",onClick:function(){return q({key:_.key})},"data-testid":"icon-plus"}),(0,t.jsx)(r.MinusCircleOutlined,{className:"icon",onClick:function(){return dn(_.key)},"data-testid":"icon-minus"})]})]},_.key)};return Z?(un(Z,!!R),(0,t.jsx)("div",{className:M()("dtc-ruleController",k),style:_n,children:sn(Z,[],!!R||!!Z.disabled)})):null},v=function(g){return g[g.AND=1]="AND",g[g.OR=2]="OR",g}({});function C(g){return g.disabled===!0}var x=function(s){var I=(0,K.Z)("FilterRules"),Z=s.component,R=s.disabled,an=R===void 0?!1:R,J=s.value,k=!C(s)&&s,_n=k.maxLevel,en=_n===void 0?5:_n,q=k.maxSize,dn=q===void 0?100:q,tn=k.notEmpty,nn=tn===void 0?{data:!0,message:I.message}:tn,on=k.initValues,b=k.onChange,H=function f(e,a,l){var E,D=e;if(D.key===a)return D;if(!((E=D.children)!==null&&E!==void 0&&E.length))return null;for(var L=0;L<D.children.length;L++){var i=D.children[L];if(i.key===a)return l?i:D;var z=f(i,a,l);if(z)return z}},un=function(e){var a=(0,p.Z)(J),l=H(a,e.key,e.isOut);ln(l,e,on),b==null||b(a)},ln=function(e,a,l){var E=a.key;if(a.isOut)return e.children.push(Object.assign({},{rowValues:l},{key:P()(),level:e.level}));var D=e==null?void 0:e.children;if(!D){var L={key:e.key,level:e.level+1,type:v.AND,children:[{rowValues:e.rowValues,key:P()(),level:(e==null?void 0:e.level)+1},{rowValues:l,key:P()(),level:(e==null?void 0:e.level)+1}]};delete e.rowValues,Object.assign(e,L);return}for(var i=0;i<D.length;i+=1)D[i].key===E&&(e==null?void 0:e.level)<=en&&(D[i]={key:D[i].key,type:v.AND,level:(e==null?void 0:e.level)+1,children:[Object.assign({},D[i],{key:P()(),level:(e==null?void 0:e.level)+1}),Object.assign({key:P()(),rowValues:l,level:(e==null?void 0:e.level)+1})]})},sn=function(e){var a=(0,p.Z)(J),l=H(a,e,!1);if(nn.data&&!(l!=null&&l.children))return h.default.info(nn.message);if(!nn.data&&!(l!=null&&l.children))return b==null?void 0:b(void 0);Q(l,e),b==null||b(a)},Q=function(e,a){var l,E,D,L,i=e;if(i.children=(l=i)===null||l===void 0||(E=l.children)===null||E===void 0?void 0:E.filter(function(rn){return rn.key!==a}),((D=i)===null||D===void 0||(L=D.children)===null||L===void 0?void 0:L.length)===1){var z=_(i.children[0]),X=i.key;delete i.children,delete i.type,i=Object.assign(i,O()(O()({},z),{},{key:X,level:z.level}))}},_=function f(e){var a;e.children&&(a=e.children.map(function(E){return f(E)}));var l=O()(O()({},e),{},{children:a,level:(e==null?void 0:e.level)-1});return l},G=function(e,a){var l=(0,p.Z)(J),E=H(l,e,!0);E.type=a===v.AND?v.OR:v.AND,b==null||b(l)},N=function(e,a){var l,E=(0,p.Z)(J),D=H(E,e,!0);D.rowValues=O()(O()({},(l=D.rowValues)!==null&&l!==void 0?l:{}),a),b==null||b(E)};return(0,t.jsx)(u,{maxLevel:en,maxSize:dn,disabled:an,value:J,component:Z,onAddCondition:un,onDeleteCondition:sn,onChangeCondition:G,onChangeRowValues:N})},V=x},63062:function($,m,n){n.d(m,{R:function(){return B}});var y=n(79685),O=n(28243),B=(0,y.createContext)({locale:{}}),h=function(p){var T=(0,y.useContext)(B),P=(0,y.useMemo)(function(){var K,A,U=(K=O.Z[p])!==null&&K!==void 0?K:{},F=(A=T==null?void 0:T.locale[p])!==null&&A!==void 0?A:{};return Object.assign({},U,F)},[p,T]);return P};m.Z=h},28243:function($,m){var n={locale:"zh-CN",BlockHeader:{expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Catalogue:{searchPlaceholder:"\u641C\u7D22\u76EE\u5F55\u540D\u79F0",inputPlaceholder:"\u8BF7\u8F93\u5165"},Chat:{stopped:"\u56DE\u7B54\u5DF2\u505C\u6B62",stop:"\u505C\u6B62\u56DE\u7B54",regenerate:"\u91CD\u65B0\u751F\u6210"},Copy:{copied:"\u590D\u5236\u6210\u529F",copy:"\u590D\u5236"},Dropdown:{selectAll:"\u5168\u9009",resetText:"\u91CD\u7F6E",okText:"\u786E\u5B9A"},ErrorBoundary:{please:"\u53D1\u73B0\u65B0\u7248\u672C\uFF0C\u8BF7",get:"\u83B7\u53D6\u65B0\u7248\u672C\u3002",refresh:"\u5237\u65B0",title:"\u82E5\u8BE5\u63D0\u793A\u957F\u65F6\u95F4\u5B58\u5728\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u3002"},FilterRules:{message:"\u5FC5\u987B\u6709\u4E00\u6761\u6570\u636E",and:"\u4E14",or:"\u6216"},Fullscreen:{exitFull:"\u9000\u51FA\u5168\u5C4F",full:"\u5168\u5C4F"},GlobalLoading:{loading:"\u5E94\u7528\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7B49\u5019\uFF5E"},Input:{case:"\u533A\u5206\u5927\u5C0F\u5199\u5339\u914D",precise:"\u7CBE\u786E\u5339\u914D",front:"\u5934\u90E8\u5339\u914D",tail:"\u5C3E\u90E8\u5339\u914D"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",notYetText:"\u6682\u4E0D"},NotFound:{description:"\u62B1\u6B49\uFF0C\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728"},SpreadSheet:{description:"\u6682\u65E0\u6570\u636E",copy:"\u590D\u5236\u503C",copyCol:"\u590D\u5236\u5217\u540D",copyAll:"\u590D\u5236\u5217\u540D\u548C\u503C"}};m.Z=n}}]);
