"use strict";(self.webpackChunkdt_react_component=self.webpackChunkdt_react_component||[]).push([[9691],{89691:function(mt,le,g){g.r(le),g.d(le,{default:function(){return ze}});var Q=g(51163),b=g(24572),Fe=g(26143),O=g(91600),$e=g(58733),s=g(50959),Be=g(84875),Y=g.n(Be),G=g(99671),z=g(29339),Pe=g(95942),ce=g(40936),fe=g(49962);function J(){return typeof BigInt=="function"}function D(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),t.startsWith(".")&&(t="0".concat(t));var o=t||"0",i=o.split("."),c=i[0]||"0",N=i[1]||"0";c==="0"&&N==="0"&&(n=!1);var f=n?"-":"";return{negative:n,negativeStr:f,trimStr:o,integerStr:c,decimalStr:N,fullStr:"".concat(f).concat(o)}}function q(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function k(e){var t=String(e);if(q(e)){var n=Number(t.slice(t.indexOf("e-")+2)),o=t.match(/\.(\d+)/);return o!=null&&o[1]&&(n+=o[1].length),n}return t.includes(".")&&_(t)?t.length-t.indexOf(".")-1:0}function H(e){var t=String(e);if(q(e)){if(e>Number.MAX_SAFE_INTEGER)return String(J()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(J()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(k(t))}return D(t).fullStr}function _(e){return typeof e=="number"?!Number.isNaN(e):e?/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e):!1}function de(e){var t=typeof e=="number"?H(e):D(e).fullStr,n=t.includes(".");return n?D(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var Ue=function(){function e(t){if((0,ce.Z)(this,e),this.origin="",this.number=void 0,this.empty=void 0,!t&&t!==0||!String(t).trim()){this.empty=!0;return}this.origin=String(t),this.number=Number(t)}return(0,fe.Z)(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var o=Number(n);if(Number.isNaN(o))return this;var i=this.number+o;if(i>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var c=Math.max(k(this.number),k(o));return new e(i.toFixed(c))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":H(this.number):this.origin}}]),e}(),Ke=function(){function e(t){if((0,ce.Z)(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,!t&&t!==0||!String(t).trim()){this.empty=!0;return}if(this.origin=String(t),t==="-"){this.nan=!0;return}var n=t;if(q(n)&&(n=Number(n)),n=typeof n=="string"?n:H(n),_(n)){var o=D(n);this.negative=o.negative;var i=o.trimStr.split(".");this.integer=BigInt(i[0]);var c=i[1]||"0";this.decimal=BigInt(c),this.decimalLen=c.length}else this.nan=!0}return(0,fe.Z)(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var o="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(o)}},{key:"negate",value:function(){var n=new e(this.toString());return n.negative=!n.negative,n}},{key:"add",value:function(n){if(this.isInvalidate())return new e(n);var o=new e(n);if(o.isInvalidate())return this;var i=Math.max(this.getDecimalStr().length,o.getDecimalStr().length),c=this.alignDecimal(i),N=o.alignDecimal(i),f=(c+N).toString(),S=D(f),h=S.negativeStr,d=S.trimStr,m="".concat(h).concat(d.padStart(i+1,"0"));return new e("".concat(m.slice(0,-i),".").concat(m.slice(-i)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":D("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function y(e){return J()?new Ke(e):new Ue(e)}function L(e,t,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e==="")return"";var i=D(e),c=i.negativeStr,N=i.integerStr,f=i.decimalStr,S="".concat(t).concat(f),h="".concat(c).concat(N);if(n>=0){var d=Number(f[n]);if(d>=5&&!o){var m=y(e).add("".concat(c,"0.").concat("0".repeat(n)).concat(10-d));return L(m.toString(),t,n,o)}return n===0?h:"".concat(h).concat(t).concat(f.padEnd(n,"0").slice(0,n))}return S===".0"?h:"".concat(h).concat(S)}var Oe=g(1859),Ge=200,He=600;function Le(e){var t=e.prefixCls,n=e.upNode,o=e.downNode,i=e.upDisabled,c=e.downDisabled,N=e.onStep,f=s.useRef(),S=s.useRef();S.current=N;var h=function(C,W){C.preventDefault(),S.current(W);function T(){S.current(W),f.current=setTimeout(T,Ge)}f.current=setTimeout(T,He)},d=function(){clearTimeout(f.current)};if(s.useEffect(function(){return d},[]),(0,Oe.Z)())return null;var m="".concat(t,"-handler"),p=Y()(m,"".concat(m,"-up"),(0,b.Z)({},"".concat(m,"-up-disabled"),i)),R=Y()(m,"".concat(m,"-down"),(0,b.Z)({},"".concat(m,"-down-disabled"),c)),V={unselectable:"on",role:"button",onMouseUp:d,onMouseLeave:d};return s.createElement("div",{className:"".concat(m,"-wrap")},s.createElement("span",(0,Q.Z)({},V,{onMouseDown:function(C){h(C,!0)},"aria-label":"Increase Value","aria-disabled":i,className:p}),n||s.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),s.createElement("span",(0,Q.Z)({},V,{onMouseDown:function(C){h(C,!1)},"aria-label":"Decrease Value","aria-disabled":c,className:R}),o||s.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var We=g(66362);function Xe(e,t){var n=(0,s.useRef)(null);function o(){try{var c=e.selectionStart,N=e.selectionEnd,f=e.value,S=f.substring(0,c),h=f.substring(N);n.current={start:c,end:N,value:f,beforeTxt:S,afterTxt:h}}catch(d){}}function i(){if(e&&n.current&&t)try{var c=e.value,N=n.current,f=N.beforeTxt,S=N.afterTxt,h=N.start,d=c.length;if(c.endsWith(S))d=c.length-n.current.afterTxt.length;else if(c.startsWith(f))d=f.length;else{var m=f[h-1],p=c.indexOf(m,h-1);p!==-1&&(d=p+1)}e.setSelectionRange(d,d)}catch(R){(0,We.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(R.message))}}return[o,i]}var ve=g(1264),je=function(){var e=(0,s.useRef)(0),t=function(){ve.Z.cancel(e.current)};return(0,s.useEffect)(function(){return t},[]),function(n){t(),e.current=(0,ve.Z)(function(){n()})}},Qe=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],me=function(t,n){return t||n.isEmpty()?n.toString():n.toNumber()},ge=function(t){var n=y(t);return n.isInvalidate()?null:n},Ne=s.forwardRef(function(e,t){var n,o=e.prefixCls,i=o===void 0?"rc-input-number":o,c=e.className,N=e.style,f=e.min,S=e.max,h=e.step,d=h===void 0?1:h,m=e.defaultValue,p=e.value,R=e.disabled,V=e.readOnly,A=e.upHandler,C=e.downHandler,W=e.keyboard,T=e.controls,Je=T===void 0?!0:T,Se=e.stringMode,X=e.parser,F=e.formatter,M=e.precision,x=e.decimalSeparator,ee=e.onChange,te=e.onInput,ne=e.onPressEnter,re=e.onStep,qe=(0,$e.Z)(e,Qe),he="".concat(i,"-input"),j=s.useRef(null),_e=s.useState(!1),pe=(0,O.Z)(_e,2),ye=pe[0],Ee=pe[1],I=s.useRef(!1),$=s.useRef(!1),B=s.useRef(!1),et=s.useState(function(){return y(p!=null?p:m)}),Ie=(0,O.Z)(et,2),v=Ie[0],be=Ie[1];function tt(a){p===void 0&&be(a)}var ae=s.useCallback(function(a,r){if(!r)return M>=0?M:Math.max(k(a),k(d))},[M,d]),ie=s.useCallback(function(a){var r=String(a);if(X)return X(r);var l=r;return x&&(l=l.replace(x,".")),l.replace(/[^\w.-]+/g,"")},[X,x]),De=s.useRef(""),Re=s.useCallback(function(a,r){if(F)return F(a,{userTyping:r,input:String(De.current)});var l=typeof a=="number"?H(a):a;if(!r){var u=ae(l,r);if(_(l)&&(x||u>=0)){var E=x||".";l=L(l,E,u)}}return l},[F,ae,x]),nt=s.useState(function(){var a=m!=null?m:p;return v.isInvalidate()&&["string","number"].includes((0,Fe.Z)(a))?Number.isNaN(a)?"":a:Re(v.toString(),!1)}),Ce=(0,O.Z)(nt,2),P=Ce[0],Ve=Ce[1];De.current=P;function U(a,r){Ve(Re(a.isInvalidate()?a.toString(!1):a.toString(!r),r))}var Z=s.useMemo(function(){return ge(S)},[S,M]),w=s.useMemo(function(){return ge(f)},[f,M]),Me=s.useMemo(function(){return!Z||!v||v.isInvalidate()?!1:Z.lessEquals(v)},[Z,v]),xe=s.useMemo(function(){return!w||!v||v.isInvalidate()?!1:v.lessEquals(w)},[w,v]),rt=Xe(j.current,ye),Ze=(0,O.Z)(rt,2),at=Ze[0],it=Ze[1],we=function(r){return Z&&!r.lessEquals(Z)?Z:w&&!w.lessEquals(r)?w:null},ue=function(r){return!we(r)},se=function(r,l){var u=r,E=ue(u)||u.isEmpty();if(!u.isEmpty()&&!l&&(u=we(u)||u,E=!0),!V&&!R&&E){var K=u.toString(),oe=ae(K,l);return oe>=0&&(u=y(L(K,".",oe)),ue(u)||(u=y(L(K,".",oe,!0)))),u.equals(v)||(tt(u),ee==null||ee(u.isEmpty()?null:me(Se,u)),p===void 0&&U(u,l)),u}return v},ut=je(),ke=function a(r){if(at(),Ve(r),!$.current){var l=ie(r),u=y(l);u.isNaN()||se(u,!0)}te==null||te(r),ut(function(){var E=r;X||(E=r.replace(/ã€‚/g,".")),E!==r&&a(E)})},st=function(){$.current=!0},ot=function(){$.current=!1,ke(j.current.value)},lt=function(r){ke(r.target.value)},Ae=function(r){var l;if(!(r&&Me||!r&&xe)){I.current=!1;var u=y(B.current?de(d):d);r||(u=u.negate());var E=(v||y(0)).add(u.toString()),K=se(E,!1);re==null||re(me(Se,K),{offset:B.current?de(d):d,type:r?"up":"down"}),(l=j.current)===null||l===void 0||l.focus()}},Te=function(r){var l=y(ie(P)),u=l;l.isNaN()?u=v:u=se(l,r),p!==void 0?U(v,!1):u.isNaN()||U(u,!1)},ct=function(){I.current=!0},ft=function(r){var l=r.which,u=r.shiftKey;I.current=!0,u?B.current=!0:B.current=!1,l===G.Z.ENTER&&($.current||(I.current=!1),Te(!1),ne==null||ne(r)),W!==!1&&!$.current&&[G.Z.UP,G.Z.DOWN].includes(l)&&(Ae(G.Z.UP===l),r.preventDefault())},dt=function(){I.current=!1,B.current=!1},vt=function(){Te(!1),Ee(!1),I.current=!1};return(0,z.o)(function(){v.isInvalidate()||U(v,!1)},[M]),(0,z.o)(function(){var a=y(p);be(a);var r=y(ie(P));(!a.equals(r)||!I.current||F)&&U(a,I.current)},[p]),(0,z.o)(function(){F&&it()},[P]),s.createElement("div",{className:Y()(i,c,(n={},(0,b.Z)(n,"".concat(i,"-focused"),ye),(0,b.Z)(n,"".concat(i,"-disabled"),R),(0,b.Z)(n,"".concat(i,"-readonly"),V),(0,b.Z)(n,"".concat(i,"-not-a-number"),v.isNaN()),(0,b.Z)(n,"".concat(i,"-out-of-range"),!v.isInvalidate()&&!ue(v)),n)),style:N,onFocus:function(){Ee(!0)},onBlur:vt,onKeyDown:ft,onKeyUp:dt,onCompositionStart:st,onCompositionEnd:ot,onBeforeInput:ct},Je&&s.createElement(Le,{prefixCls:i,upNode:A,downNode:C,upDisabled:Me,downDisabled:xe,onStep:Ae}),s.createElement("div",{className:"".concat(he,"-wrap")},s.createElement("input",(0,Q.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":f,"aria-valuemax":S,"aria-valuenow":v.isInvalidate()?null:v.toString(),step:d},qe,{ref:(0,Pe.sQ)(j,t),className:he,value:P,onChange:lt,disabled:R,readOnly:V}))))});Ne.displayName="InputNumber";var Ye=Ne,ze=Ye}}]);
