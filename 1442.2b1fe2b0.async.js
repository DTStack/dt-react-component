"use strict";(self.webpackChunkdt_react_component=self.webpackChunkdt_react_component||[]).push([[1442],{81442:function(mt,ye,R){R.d(ye,{Z:function(){return Xe}});var ae=R(51163),O=R(24572),N=R(75782),C=R(91600),Te=R(58733),o=R(50959),He=R(84875),z=R.n(He),Ze=R(95328),ue=o.forwardRef(function(n,v){var a=n.height,e=n.offset,s=n.children,u=n.prefixCls,l=n.onInnerResize,t=n.innerProps,r={},i={display:"flex",flexDirection:"column"};return e!==void 0&&(r={height:a,position:"relative",overflow:"hidden"},i=(0,N.Z)((0,N.Z)({},i),{},{transform:"translateY(".concat(e,"px)"),position:"absolute",left:0,right:0,top:0})),o.createElement("div",{style:r},o.createElement(Ze.default,{onResize:function(c){var d=c.offsetHeight;d&&l&&l()}},o.createElement("div",(0,ae.Z)({style:i,className:z()((0,O.Z)({},"".concat(u,"-holder-inner"),u)),ref:v},t),s)))});ue.displayName="Filler";var Ce=ue,ie=R(40936),le=R(49962),xe=R(39027),Le=R(76614),Z=R(1264),De=20;function se(n){return"touches"in n?n.touches[0].pageY:n.pageY}var we=function(n){(0,xe.Z)(a,n);var v=(0,Le.Z)(a);function a(){var e;(0,ie.Z)(this,a);for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return e=v.call.apply(v,[this].concat(u)),e.moveRaf=null,e.scrollbarRef=o.createRef(),e.thumbRef=o.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout(function(){e.setState({visible:!1})},2e3)},e.onScrollbarTouchStart=function(t){t.preventDefault()},e.onContainerMouseDown=function(t){t.stopPropagation(),t.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),(t=e.scrollbarRef.current)===null||t===void 0||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),Z.Z.cancel(e.moveRaf)},e.onMouseDown=function(t){var r=e.props.onStartMove;e.setState({dragging:!0,pageY:se(t),startTop:e.getTop()}),r(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var r=e.state,i=r.dragging,f=r.pageY,c=r.startTop,d=e.props.onScroll;if(Z.Z.cancel(e.moveRaf),i){var g=se(t)-f,m=c+g,M=e.getEnableScrollRange(),b=e.getEnableHeightRange(),D=b?m/b:0,w=Math.ceil(D*M);e.moveRaf=(0,Z.Z)(function(){d(w)})}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,r=t.height,i=t.count,f=r/i*10;return f=Math.max(f,De),f=Math.min(f,r/2),Math.floor(f)},e.getEnableScrollRange=function(){var t=e.props,r=t.scrollHeight,i=t.height;return r-i||0},e.getEnableHeightRange=function(){var t=e.props.height,r=e.getSpinHeight();return t-r||0},e.getTop=function(){var t=e.props.scrollTop,r=e.getEnableScrollRange(),i=e.getEnableHeightRange();if(t===0||r===0)return 0;var f=t/r;return f*i},e.showScroll=function(){var t=e.props,r=t.height,i=t.scrollHeight;return i>r},e}return(0,le.Z)(a,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(s){s.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var s=this.state,u=s.dragging,l=s.visible,t=this.props.prefixCls,r=this.getSpinHeight(),i=this.getTop(),f=this.showScroll(),c=f&&l;return o.createElement("div",{ref:this.scrollbarRef,className:z()("".concat(t,"-scrollbar"),(0,O.Z)({},"".concat(t,"-scrollbar-show"),f)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:c?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},o.createElement("div",{ref:this.thumbRef,className:z()("".concat(t,"-scrollbar-thumb"),(0,O.Z)({},"".concat(t,"-scrollbar-thumb-moving"),u)),style:{width:"100%",height:r,top:i,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),a}(o.Component);function Ie(n){var v=n.children,a=n.setRef,e=o.useCallback(function(s){a(s)},[]);return o.cloneElement(v,{ref:e})}function Pe(n,v,a,e,s,u){var l=u.getKey;return n.slice(v,a+1).map(function(t,r){var i=v+r,f=s(t,i,{}),c=l(t);return o.createElement(Ie,{key:c,setRef:function(g){return e(t,g)}},f)})}var Fe=R(39676),Ne=function(){function n(){(0,ie.Z)(this,n),this.maps=void 0,this.maps=Object.create(null)}return(0,le.Z)(n,[{key:"set",value:function(a,e){this.maps[a]=e}},{key:"get",value:function(a){return this.maps[a]}}]),n}(),$e=Ne;function Ue(n,v,a){var e=o.useState(0),s=(0,C.Z)(e,2),u=s[0],l=s[1],t=(0,o.useRef)(new Map),r=(0,o.useRef)(new $e),i=(0,o.useRef)();function f(){Z.Z.cancel(i.current)}function c(){f(),i.current=(0,Z.Z)(function(){t.current.forEach(function(g,m){if(g&&g.offsetParent){var M=(0,Fe.Z)(g),b=M.offsetHeight;r.current.get(m)!==b&&r.current.set(m,M.offsetHeight)}}),l(function(g){return g+1})})}function d(g,m){var M=n(g),b=t.current.get(M);m?(t.current.set(M,m),c()):t.current.delete(M),!b!=!m&&(m?v==null||v(g):a==null||a(g))}return(0,o.useEffect)(function(){return f},[]),[d,c,r.current,u]}var ce=R(26143);function Ye(n,v,a,e,s,u,l,t){var r=o.useRef();return function(i){if(i==null){t();return}if(Z.Z.cancel(r.current),typeof i=="number")l(i);else if(i&&(0,ce.Z)(i)==="object"){var f,c=i.align;"index"in i?f=i.index:f=v.findIndex(function(M){return s(M)===i.key});var d=i.offset,g=d===void 0?0:d,m=function M(b,D){if(!(b<0||!n.current)){var w=n.current.clientHeight,W=!1,E=D;if(w){for(var k=D||c,K=0,I=0,y=0,_=Math.min(v.length,f),P=0;P<=_;P+=1){var j=s(v[P]);I=K;var $=a.get(j);y=I+($===void 0?e:$),K=y,P===f&&$===void 0&&(W=!0)}var x=null;switch(k){case"top":x=I-g;break;case"bottom":x=y-w+g;break;default:{var V=n.current.scrollTop,S=V+w;I<V?E="top":y>S&&(E="bottom")}}x!==null&&x!==n.current.scrollTop&&l(x)}r.current=(0,Z.Z)(function(){W&&u(),M(b-1,E)},2)}};m(3)}}}function Rt(n,v,a,e){var s=a-n,u=v-a,l=Math.min(s,u)*2;if(e<=l){var t=Math.floor(e/2);return e%2?a+t+1:a-t}return s>u?a-(e-u):a+(e-s)}function Oe(n,v,a){var e=n.length,s=v.length,u,l;if(e===0&&s===0)return null;e<s?(u=n,l=v):(u=v,l=n);var t={__EMPTY_ITEM__:!0};function r(m){return m!==void 0?a(m):t}for(var i=null,f=Math.abs(e-s)!==1,c=0;c<l.length;c+=1){var d=r(u[c]),g=r(l[c]);if(d!==g){i=c,f=f||d!==r(l[c+1]);break}}return i===null?null:{index:i,multiple:f}}function ze(n,v,a){var e=o.useState(n),s=(0,C.Z)(e,2),u=s[0],l=s[1],t=o.useState(null),r=(0,C.Z)(t,2),i=r[0],f=r[1];return o.useEffect(function(){var c=Oe(u||[],n||[],v);(c==null?void 0:c.index)!==void 0&&(a==null||a(c.index),f(n[c.index])),l(n)},[n]),[i]}var We=(typeof navigator=="undefined"?"undefined":(0,ce.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),ke=We,fe=function(n,v){var a=(0,o.useRef)(!1),e=(0,o.useRef)(null);function s(){clearTimeout(e.current),a.current=!0,e.current=setTimeout(function(){a.current=!1},50)}var u=(0,o.useRef)({top:n,bottom:v});return u.current.top=n,u.current.bottom=v,function(l){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=l<0&&u.current.top||l>0&&u.current.bottom;return t&&r?(clearTimeout(e.current),a.current=!1):(!r||a.current)&&s(),!a.current&&r}};function Ke(n,v,a,e){var s=(0,o.useRef)(0),u=(0,o.useRef)(null),l=(0,o.useRef)(null),t=(0,o.useRef)(!1),r=fe(v,a);function i(c){if(n){Z.Z.cancel(u.current);var d=c.deltaY;s.current+=d,l.current=d,!r(d)&&(ke||c.preventDefault(),u.current=(0,Z.Z)(function(){var g=t.current?10:1;e(s.current*g),s.current=0}))}}function f(c){n&&(t.current=c.detail===l.current)}return[i,f]}var q=R(29339),je=14/15;function Ve(n,v,a){var e=(0,o.useRef)(!1),s=(0,o.useRef)(0),u=(0,o.useRef)(null),l=(0,o.useRef)(null),t,r=function(d){if(e.current){var g=Math.ceil(d.touches[0].pageY),m=s.current-g;s.current=g,a(m)&&d.preventDefault(),clearInterval(l.current),l.current=setInterval(function(){m*=je,(!a(m,!0)||Math.abs(m)<=.1)&&clearInterval(l.current)},16)}},i=function(){e.current=!1,t()},f=function(d){t(),d.touches.length===1&&!e.current&&(e.current=!0,s.current=Math.ceil(d.touches[0].pageY),u.current=d.target,u.current.addEventListener("touchmove",r),u.current.addEventListener("touchend",i))};t=function(){u.current&&(u.current.removeEventListener("touchmove",r),u.current.removeEventListener("touchend",i))},(0,q.Z)(function(){return n&&v.current.addEventListener("touchstart",f),function(){var c;(c=v.current)===null||c===void 0||c.removeEventListener("touchstart",f),t(),clearInterval(l.current)}},[n])}var Ae=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange","innerProps"],Be=[],Ge={overflowY:"auto",overflowAnchor:"none"};function Je(n,v){var a=n.prefixCls,e=a===void 0?"rc-virtual-list":a,s=n.className,u=n.height,l=n.itemHeight,t=n.fullHeight,r=t===void 0?!0:t,i=n.style,f=n.data,c=n.children,d=n.itemKey,g=n.virtual,m=n.component,M=m===void 0?"div":m,b=n.onScroll,D=n.onVisibleChange,w=n.innerProps,W=(0,Te.Z)(n,Ae),E=!!(g!==!1&&u&&l),k=E&&f&&l*f.length>u,K=(0,o.useState)(0),I=(0,C.Z)(K,2),y=I[0],_=I[1],P=(0,o.useState)(!1),j=(0,C.Z)(P,2),$=j[0],x=j[1],V=z()(e,s),S=f||Be,H=(0,o.useRef)(),he=(0,o.useRef)(),de=(0,o.useRef)(),U=o.useCallback(function(h){return typeof d=="function"?d(h):h==null?void 0:h[d]},[d]),qe={getKey:U};function A(h){_(function(p){var T;typeof h=="function"?T=h(p):T=h;var F=it(T);return H.current.scrollTop=F,F})}var ge=(0,o.useRef)({start:0,end:S.length}),_e=(0,o.useRef)(),et=ze(S,U),tt=(0,C.Z)(et,1),nt=tt[0];_e.current=nt;var rt=Ue(U,null,null),B=(0,C.Z)(rt,4),ot=B[0],pe=B[1],me=B[2],at=B[3],G=o.useMemo(function(){if(!E)return{scrollHeight:void 0,start:0,end:S.length-1,offset:void 0};if(!k){var h;return{scrollHeight:((h=he.current)===null||h===void 0?void 0:h.offsetHeight)||0,start:0,end:S.length-1,offset:void 0}}for(var p=0,T,F,L,dt=S.length,Y=0;Y<dt;Y+=1){var gt=S[Y],pt=U(gt),Ee=me.get(pt),oe=p+(Ee===void 0?l:Ee);oe>=y&&T===void 0&&(T=Y,F=p),oe>y+u&&L===void 0&&(L=Y),p=oe}return T===void 0&&(T=0,F=0,L=Math.ceil(u/l)),L===void 0&&(L=S.length-1),L=Math.min(L+1,S.length),{scrollHeight:p,start:T,end:L,offset:F}},[k,E,y,S,at,u]),ee=G.scrollHeight,J=G.start,Q=G.end,ut=G.offset;ge.current.start=J,ge.current.end=Q;var te=ee-u,ne=(0,o.useRef)(te);ne.current=te;function it(h){var p=h;return Number.isNaN(ne.current)||(p=Math.min(p,ne.current)),p=Math.max(p,0),p}var Re=y<=0,Se=y>=te,lt=fe(Re,Se);function st(h){var p=h;A(p)}function ct(h){var p=h.currentTarget.scrollTop;p!==y&&A(p),b==null||b(h)}var ft=Ke(E,Re,Se,function(h){A(function(p){var T=p+h;return T})}),Me=(0,C.Z)(ft,2),re=Me[0],be=Me[1];Ve(E,H,function(h,p){return lt(h,p)?!1:(re({preventDefault:function(){},deltaY:h}),!0)}),(0,q.Z)(function(){function h(p){E&&p.preventDefault()}return H.current.addEventListener("wheel",re),H.current.addEventListener("DOMMouseScroll",be),H.current.addEventListener("MozMousePixelScroll",h),function(){H.current&&(H.current.removeEventListener("wheel",re),H.current.removeEventListener("DOMMouseScroll",be),H.current.removeEventListener("MozMousePixelScroll",h))}},[E]);var vt=Ye(H,S,me,l,U,pe,A,function(){var h;(h=de.current)===null||h===void 0||h.delayHidden()});o.useImperativeHandle(v,function(){return{scrollTo:vt}}),(0,q.Z)(function(){if(D){var h=S.slice(J,Q+1);D(h,S)}},[J,Q,S]);var ht=Pe(S,J,Q,ot,c,qe),X=null;return u&&(X=(0,N.Z)((0,O.Z)({},r?"height":"maxHeight",u),Ge),E&&(X.overflowY="hidden",$&&(X.pointerEvents="none"))),o.createElement("div",(0,ae.Z)({style:(0,N.Z)((0,N.Z)({},i),{},{position:"relative"}),className:V},W),o.createElement(M,{className:"".concat(e,"-holder"),style:X,ref:H,onScroll:ct},o.createElement(Ce,{prefixCls:e,height:ee,offset:ut,onInnerResize:pe,ref:he,innerProps:w},ht)),E&&o.createElement(we,{ref:de,prefixCls:e,scrollTop:y,height:u,scrollHeight:ee,count:S.length,onScroll:st,onStartMove:function(){x(!0)},onStopMove:function(){x(!1)}}))}var ve=o.forwardRef(Je);ve.displayName="List";var Qe=ve,Xe=Qe}}]);
