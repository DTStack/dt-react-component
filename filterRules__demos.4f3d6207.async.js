"use strict";(self.webpackChunkdt_react_component=self.webpackChunkdt_react_component||[]).push([[1268],{77625:function(G,s,n){n.r(s);var g=n(90554),C=n.n(g),I=n(28870),E=n(48651),B=n.n(E),f=n(86516),R=n.n(f),P=n(83345),U=n.n(P),D=n(50425),W=n(79685),F=n(19576),j=n(52368),r=n(63342),S=function(t){var d=t.rowValues.input,m=t.rowKey,o=t.onChange;return(0,r.jsx)(D.default,{value:d,onChange:function(y){return o==null?void 0:o(m,{input:y.target.value})}})};s.default=function(){var h=(0,W.useState)(j.Bq),t=R()(h,2),d=t[0],m=t[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.ZP,{component:function(u){return(0,r.jsx)(S,B()({},u))},value:d,onChange:function(u){return m(u)},initValues:j.jv}),(0,r.jsx)(I.default,{onClick:function(){return console.log(d)},children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},1809:function(G,s,n){n.r(s);var g=n(48651),C=n.n(g),I=n(90554),E=n.n(I),B=n(28870),f=n(99764),R=n.n(f),P=n(9923),U=n(86516),D=n.n(U),W=n(83345),F=n.n(W),j=n(50425),r=n(79685),S=n(19576),h=n(52368),t=n(63342),d=function(o){var u=o.rowValues.input,y=o.rowKey,a=o.disabled,K=o.onChange;return(0,t.jsx)(j.default,{value:u,onChange:function(H){return K==null?void 0:K(y,{input:H.target.value})},disabled:a})};s.default=function(){var m=P.Z.useForm(),o=D()(m,1),u=o[0],y=(0,r.useState)(!1),a=D()(y,2),K=a[0],Z=a[1];return(0,r.useEffect)(function(){u.setFieldsValue({condition:h.Bq})},[]),(0,t.jsxs)(P.Z,{form:u,children:[(0,t.jsxs)(B.default,{style:{marginBottom:16},onClick:function(){return Z(!K)},children:[K?"\u7F16\u8F91":"\u67E5\u770B","\u72B6\u6001"]}),(0,t.jsx)(P.Z.Item,{name:"condition",children:(0,t.jsx)(S.ZP,{component:function(N){return(0,t.jsx)(d,C()({},N))},disabled:K,initValues:h.jv})})]})}},16358:function(G,s,n){n.r(s);var g=n(48651),C=n.n(g),I=n(88289),E=n.n(I),B=n(4125),f=n(73735),R=n.n(f),P=n(82549),U=n(86516),D=n.n(U),W=n(83345),F=n.n(W),j=n(50425),r=n(79685),S=n(19576),h=n(52368),t=n(63342),d=function(o){var u=o.rowValues.input,y=o.rowKey,a=o.onChange;return(0,t.jsx)(j.default,{value:u,onChange:function(Z){return a==null?void 0:a(y,{input:Z.target.value})}})};s.default=function(){var m=(0,r.useState)(h.Bq),o=D()(m,2),u=o[0],y=o[1],a=(0,r.useState)(2),K=D()(a,2),Z=K[0],H=K[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(B.default,{style:{marginBottom:16},children:[(0,t.jsx)("span",{children:"\u6700\u5927\u5B50\u8282\u70B9\u4E2A\u6570:"}),(0,t.jsx)(P.Z,{value:Z,min:0,precision:0,onChange:function(O){return H(O!=null?O:0)}})]}),(0,t.jsx)(S.ZP,{component:function(O){return(0,t.jsx)(d,C()({},O))},value:u,maxSize:Z,onChange:function(O){return y(O)},initValues:h.jv})]})}},51801:function(G,s,n){n.r(s);var g=n(48651),C=n.n(g),I=n(67822),E=n.n(I),B=n(39153),f=n(86516),R=n.n(f),P=n(83345),U=n.n(P),D=n(50425),W=n(79685),F=n(19576),j=n(52368),r=n(63342),S=function(t){var d=t.rowValues.input,m=t.rowKey,o=t.onChange;return(0,r.jsx)(D.default,{value:d,onChange:function(y){return o==null?void 0:o(m,{input:y.target.value})}})};s.default=function(){var h=(0,W.useState)(j.AD),t=R()(h,2),d=t[0],m=t[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.default,{message:"\u53EF\u4EE5\u901A\u8FC7\u64CD\u4F5C\u6309\u94AE\u589E\u52A0\u5220\u9664\u6570\u636E\uFF0C\u5207\u6362\u4E14\u6216\u8282\u70B9\u5185\u5BB9",style:{marginBottom:16}}),(0,r.jsx)(F.ZP,{component:function(u){return(0,r.jsx)(S,C()({},u))},value:d,onChange:function(u){return m(u)},initValues:j.jv})]})}},95789:function(G,s,n){n.r(s);var g=n(22786),C=n.n(g),I=n(46299),E=n.n(I),B=n(48651),f=n.n(B),R=n(90554),P=n.n(R),U=n(28870),D=n(86516),W=n.n(D),F=n(99764),j=n.n(F),r=n(9923),S=n(83345),h=n.n(S),t=n(50425),d=n(70300),m=n.n(d),o=n(79685),u=n(19576),y=n(52368),a=n(63342),K=function(H){var N=H.name;return(0,a.jsx)(r.Z.Item,{name:["condition"].concat(m()(N),["input"]),children:(0,a.jsx)(t.default,{})})};s.default=function(){var Z=r.Z.useForm(),H=W()(Z,1),N=H[0];return(0,a.jsxs)(r.Z,{form:N,children:[(0,a.jsx)(U.default,{onClick:function(){return N.setFieldsValue({condition:y.Bq})},style:{marginBottom:16},children:"\u6DFB\u52A0\u6570\u636E"}),(0,a.jsx)(r.Z.Item,{name:"condition",children:(0,a.jsx)(u.ZP,{component:function(A){return(0,a.jsx)(K,f()({},A))},notEmpty:{data:!1},initValues:y.jv})}),(0,a.jsx)(U.default,{onClick:E()(C()().mark(function O(){return C()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.t0=console,p.next=3,N.validateFields();case 3:return p.t1=p.sent,p.abrupt("return",p.t0.log.call(p.t0,p.t1));case 5:case"end":return p.stop()}},O)})),children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},94034:function(G,s,n){n.r(s);var g=n(48651),C=n.n(g),I=n(67822),E=n.n(I),B=n(39153),f=n(86516),R=n.n(f),P=n(83345),U=n.n(P),D=n(50425),W=n(79685),F=n(19576),j=n(52368),r=n(63342),S=function(t){var d=t.rowValues.input,m=t.disabled,o=t.rowKey,u=t.onChange;return(0,r.jsx)(D.default,{value:d,disabled:m,onChange:function(a){return u==null?void 0:u(o,{input:a.target.value})}})};s.default=function(){var h=(0,W.useState)(j.jN),t=R()(h,2),d=t[0],m=t[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.default,{message:"\u9002\u7528\u4E8E\u90E8\u5206\u6570\u636E\u7981\u7528\u4E14\u53EF\u4EE5\u7F16\u8F91\u5176\u4ED6\u6570\u636E\u3002\u5E38\u89C1\u4E1A\u52A1\u60C5\u666F\uFF1A\u4E0A\u4E00\u6B21\u4FDD\u5B58\u7684\u6570\u636E\u4E0D\u53EF\u4FEE\u6539\uFF0C\u4F46\u9700\u8981\u5728\u5F53\u524D\u57FA\u7840\u4E0A\u7EE7\u7EED\u65B0\u589E\u6570\u636E\u3002",style:{marginBottom:16}}),(0,r.jsx)(F.ZP,{component:function(u){return(0,r.jsx)(S,C()({},u))},value:d,onChange:function(u){return m(u)},initValues:j.jv})]})}},52368:function(G,s,n){n.d(s,{AD:function(){return P},Bq:function(){return f},jN:function(){return R},jv:function(){return B}});var g=n(48651),C=n.n(g),I=n(50576),E=n.n(I),B={input:""},f={key:E()(),level:0,rowValues:C()({},B)},R={key:E()(),level:0,type:1,children:[{rowValues:{input:""},disabled:!0,key:E()(),level:1},{key:E()(),type:1,level:2,disabled:!0,children:[{rowValues:{input:""},key:E()(),level:2},{key:E()(),rowValues:{input:""},level:2}]}]},P={key:E()(),level:1,type:1,children:[{rowValues:{input:""},key:E()(),level:1},{key:E()(),type:2,level:2,children:[{key:E()(),level:2,rowValues:{input:""}},{key:E()(),rowValues:{input:""},level:2}]}]}},19576:function(G,s,n){n.d(s,{de:function(){return a},NZ:function(){return K},ZP:function(){return N}});var g=n(48651),C=n.n(g),I=n(71089),E=n(75020),B=n(5677),f=n.n(B),R=n(79685),P=n(54834),U=n(50576),D=n.n(U),W=n(63062),F=n(70300),j=n.n(F),r=n(71074),S=n(68591),h=n.n(S),t=n(63342),d=32,m=16,o=new WeakMap,u=function(A){var p=A.value,tn=A.disabled,on=A.maxLevel,ln=A.maxSize,w=A.className,q=A.style,rn=A.component,en=A.onAddCondition,an=A.onDeleteCondition,sn=A.onChangeCondition,dn=A.onChangeRowValues,Q=function(_){return(_==null?void 0:_.type)&&[a.AND,a.OR].includes(_==null?void 0:_.type)},mn=function k(_,X){var z=X||!!_.disabled;if(!(_!=null&&_.children))return o.set(_,{height:d+m,lineHeight:d});_.children.map(function(J){return k(J,z)});var $=!_.children.some(Q),x=Q(_.children[0]);if(z){var i=_.children.reduce(function(J,nn){return J+o.get(nn).height},0),L,M;if($)L=i-d-m;else{var Y,cn=_.children[0],un=_.children[_.children.length-1],En=o.get(cn).height-T(_,!0),Dn=Q(un),vn=T(_,!1),hn=o.get(un).height-m-vn;M=Dn?vn:d/2,L=En+((Y=_.children)===null||Y===void 0?void 0:Y.slice(1,-1).reduce(function(J,nn){return J+o.get(nn).height},0))+hn}o.set(_,{bottom:M,lineHeight:L,height:i})}else{var V=_.children.reduce(function(J,nn){return J+o.get(nn).height},d),b;if($){var e=o.get(_.children[0]).height-m,c=d;b=V-e/2-c/2}else{var l,v=x?o.get(_.children[0]).lineHeight/2+d/2:d/2+m;b=v+((l=_.children)===null||l===void 0?void 0:l.slice(1).reduce(function(J,nn){return J+o.get(nn).height},d/2))}o.set(_,{height:V,lineHeight:b})}return _},T=function k(_,X){var z,$,x,V=X?_==null||(z=_.children)===null||z===void 0?void 0:z[0]:_==null||($=_.children)===null||$===void 0?void 0:$[(_==null||(x=_.children)===null||x===void 0?void 0:x.length)-1];if(!V)return d/2;var b=Q(V);if(b){var e;return((e=o.get(V))===null||e===void 0?void 0:e.lineHeight)/2+k(V,X)}return d/2},_n=function k(_,X,z){var $,x=z||!!_.disabled;if(_!=null&&($=_.children)!==null&&$!==void 0&&$.length){var V,b=function(i){var L=j()(X);return L.push.apply(L,["children",i]),L},e=o.get(_),c=e.lineHeight,l=e.bottom;return(0,t.jsxs)("div",{className:h()("dtc-ruleController__condition",{"dtc-ruleController__condition--active":_.children.length>1}),children:[(0,t.jsxs)("div",{className:h()("condition__box",{disabled:x}),style:{height:c,bottom:l!=null?l:m},children:[(0,t.jsx)("span",{className:h()("condition__box--name",{disabled:x}),onClick:function(){return!x&&sn(_.key,_==null?void 0:_.type)},children:K[_==null?void 0:_.type]}),_.children.length>1&&(0,t.jsx)("span",{className:h()("condition__box--line",{disabled:z})})]}),_.children.map(function(v,i){return k(v,b(i),x)}),!x&&(0,t.jsxs)("div",{className:"condition__add",children:[(0,t.jsx)("span",{className:"condition__add--line"}),(0,t.jsx)(r.PlusCircleOutlined,{className:h()("condition__add--icon",(_==null||(V=_.children)===null||V===void 0?void 0:V.length)>=ln&&"condition__add--icon--disabled"),onClick:function(){_!=null&&_.children&&_.children.length>=ln||en({key:_.key,isOut:!0})},"data-testid":"icon-plus"})]})]},_.key)}return(0,t.jsxs)("div",{className:"dtc-ruleController__item",children:[(p==null?void 0:p.children)&&(0,t.jsx)("span",{className:h()("dtc-ruleController__item--line",{disabled:z})}),(0,t.jsx)("div",{className:"dtc-ruleController__item--component",children:rn({rowKey:_.key,disabled:x,name:[].concat(j()(X),["rowValues"]),rowValues:_.rowValues,onChange:dn})}),!x&&(0,t.jsxs)("div",{className:"dtc-ruleController__item--operation",children:[_.level===on?null:(0,t.jsx)(r.PlusCircleOutlined,{className:"icon",onClick:function(){return en({key:_.key})},"data-testid":"icon-plus"}),(0,t.jsx)(r.MinusCircleOutlined,{className:"icon",onClick:function(){return an(_.key)},"data-testid":"icon-minus"})]})]},_.key)};return p?(mn(p,!!tn),(0,t.jsx)("div",{className:h()("dtc-ruleController",w),style:q,children:_n(p,[],!!tn||!!p.disabled)})):null},y,a=function(O){return O[O.AND=1]="AND",O[O.OR=2]="OR",O}({}),K=(y={},f()(y,a.AND,"\u4E14"),f()(y,a.OR,"\u6216"),y);function Z(O){return O.disabled===!0}var H=function(A){var p=(0,W.Z)("FilterRules"),tn=A.component,on=A.disabled,ln=on===void 0?!1:on,w=A.value,q=!Z(A)&&A,rn=q.maxLevel,en=rn===void 0?5:rn,an=q.maxSize,sn=an===void 0?100:an,dn=q.notEmpty,Q=dn===void 0?{data:!0,message:p.message}:dn,mn=q.initValues,T=q.onChange,_n=function b(e,c,l){var v,i=e;if(i.key===c)return i;if(!((v=i.children)!==null&&v!==void 0&&v.length))return null;for(var L=0;L<i.children.length;L++){var M=i.children[L];if(M.key===c)return l?M:i;var Y=b(M,c,l);if(Y)return Y}},k=function(e){var c=(0,P.Z)(w),l=_n(c,e.key,e.isOut);_(l,e,mn),T==null||T(c)},_=function(e,c,l){var v=c.key;if(c.isOut)return e.children.push(Object.assign({},{rowValues:l},{key:D()(),level:e.level}));var i=e==null?void 0:e.children;if(!i){var L={key:e.key,level:e.level+1,type:a.AND,children:[{rowValues:e.rowValues,key:D()(),level:(e==null?void 0:e.level)+1},{rowValues:l,key:D()(),level:(e==null?void 0:e.level)+1}]};delete e.rowValues,Object.assign(e,L);return}for(var M=0;M<i.length;M+=1)i[M].key===v&&(e==null?void 0:e.level)<=en&&(i[M]={key:i[M].key,type:a.AND,level:(e==null?void 0:e.level)+1,children:[Object.assign({},i[M],{key:D()(),level:(e==null?void 0:e.level)+1}),Object.assign({key:D()(),rowValues:l,level:(e==null?void 0:e.level)+1})]})},X=function(e){var c=(0,P.Z)(w),l=_n(c,e,!1);if(Q.data&&!(l!=null&&l.children))return E.default.info(Q.message);if(!Q.data&&!(l!=null&&l.children))return T==null?void 0:T(void 0);z(l,e),T==null||T(c)},z=function(e,c){var l,v,i,L,M=e;if(M.children=(l=M)===null||l===void 0||(v=l.children)===null||v===void 0?void 0:v.filter(function(un){return un.key!==c}),((i=M)===null||i===void 0||(L=i.children)===null||L===void 0?void 0:L.length)===1){var Y=$(M.children[0]),cn=M.key;delete M.children,delete M.type,M=Object.assign(M,C()(C()({},Y),{},{key:cn,level:Y.level}))}},$=function b(e){var c;e.children&&(c=e.children.map(function(v){return b(v)}));var l=C()(C()({},e),{},{children:c,level:(e==null?void 0:e.level)-1});return l},x=function(e,c){var l=(0,P.Z)(w),v=_n(l,e,!0);v.type=c===a.AND?a.OR:a.AND,T==null||T(l)},V=function(e,c){var l,v=(0,P.Z)(w),i=_n(v,e,!0);i.rowValues=C()(C()({},(l=i.rowValues)!==null&&l!==void 0?l:{}),c),T==null||T(v)};return(0,t.jsx)(u,{maxLevel:en,maxSize:sn,disabled:ln,value:w,component:tn,onAddCondition:k,onDeleteCondition:X,onChangeCondition:x,onChangeRowValues:V})},N=H},63062:function(G,s,n){n.d(s,{R:function(){return I}});var g=n(79685),C=n(28243),I=(0,g.createContext)({locale:{}}),E=function(f){var R=(0,g.useContext)(I),P=(0,g.useMemo)(function(){var U,D,W=(U=C.Z[f])!==null&&U!==void 0?U:{},F=(D=R==null?void 0:R.locale[f])!==null&&D!==void 0?D:{};return Object.assign({},W,F)},[f,R]);return P};s.Z=E},28243:function(G,s){var n={locale:"zh-CN",BlockHeader:{expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Catalogue:{searchPlaceholder:"\u641C\u7D22\u76EE\u5F55\u540D\u79F0",inputPlaceholder:"\u8BF7\u8F93\u5165"},Chat:{stopped:"\u56DE\u7B54\u5DF2\u505C\u6B62",stop:"\u505C\u6B62\u56DE\u7B54",regenerate:"\u91CD\u65B0\u751F\u6210"},Copy:{copied:"\u590D\u5236\u6210\u529F",copy:"\u590D\u5236"},Dropdown:{selectAll:"\u5168\u9009",resetText:"\u91CD\u7F6E",okText:"\u786E\u5B9A"},ErrorBoundary:{please:"\u53D1\u73B0\u65B0\u7248\u672C\uFF0C\u8BF7",get:"\u83B7\u53D6\u65B0\u7248\u672C\u3002",refresh:"\u5237\u65B0",title:"\u82E5\u8BE5\u63D0\u793A\u957F\u65F6\u95F4\u5B58\u5728\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u3002"},FilterRules:{message:"\u5FC5\u987B\u6709\u4E00\u6761\u6570\u636E"},Fullscreen:{exitFull:"\u9000\u51FA\u5168\u5C4F",full:"\u5168\u5C4F"},GlobalLoading:{loading:"\u5E94\u7528\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7B49\u5019\uFF5E"},Input:{case:"\u533A\u5206\u5927\u5C0F\u5199\u5339\u914D",precise:"\u7CBE\u786E\u5339\u914D",front:"\u5934\u90E8\u5339\u914D",tail:"\u5C3E\u90E8\u5339\u914D"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",notYetText:"\u6682\u4E0D"},NotFound:{description:"\u62B1\u6B49\uFF0C\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728"},SpreadSheet:{description:"\u6682\u65E0\u6570\u636E",copy:"\u590D\u5236\u503C",copyCol:"\u590D\u5236\u5217\u540D",copyAll:"\u590D\u5236\u5217\u540D\u548C\u503C"}};s.Z=n}}]);
